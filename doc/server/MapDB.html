<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.2) on Tue Jun 18 01:33:13 IDT 2019 -->
<title>MapDB</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2019-06-18">
<link rel="stylesheet" type="text/css" href="../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../jquery/jquery-ui.css" title="Style">
<script type="text/javascript" src="../script.js"></script>
<script type="text/javascript" src="../jquery/jszip/dist/jszip.min.js"></script>
<script type="text/javascript" src="../jquery/jszip-utils/dist/jszip-utils.min.js"></script>
<!--[if IE]>
<script type="text/javascript" src="../jquery/jszip-utils/dist/jszip-utils-ie.min.js"></script>
<![endif]-->
<script type="text/javascript" src="../jquery/jquery-3.3.1.js"></script>
<script type="text/javascript" src="../jquery/jquery-migrate-3.0.1.js"></script>
<script type="text/javascript" src="../jquery/jquery-ui.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="MapDB";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":9,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
var pathtoroot = "../";
var useModuleDirectories = true;
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MapDB.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<ul class="navListSearch">
<li><label for="search">SEARCH:</label>
<input type="text" id="search" value="search" disabled="disabled">
<input type="reset" id="reset" value="reset" disabled="disabled">
</li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">server</a></div>
<h2 title="Class MapDB" class="title">Class MapDB</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>server.MapDB</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public class <span class="typeNameLabel">MapDB</span>
extends java.lang.Object</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../common/Message.html" title="class in common">Message</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#AddNewMap(java.util.ArrayList)">AddNewMap</a></span>&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)</code></th>
<td class="colLast">
<div class="block">Add new map to database</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../common/Message.html" title="class in common">Message</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#AddSiteToMap(java.util.ArrayList)">AddSiteToMap</a></span>&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)</code></th>
<td class="colLast">
<div class="block">Add a new site to the requested map</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../common/Message.html" title="class in common">Message</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#editMapDetails(java.util.ArrayList)">editMapDetails</a></span>&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)</code></th>
<td class="colLast">
<div class="block">Edit map details in database</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static <a href="MapDB.html" title="class in server">MapDB</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getInstance()">getInstance</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns a static instance of MapDB object</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="../common/Message.html" title="class in common">Message</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMap(java.util.ArrayList)">getMap</a></span>&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)</code></th>
<td class="colLast">
<div class="block">Get instance of map according to the user's permission</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="../common/Message.html" title="class in common">Message</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMapsByCity(java.util.ArrayList)">getMapsByCity</a></span>&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)</code></th>
<td class="colLast">
<div class="block">Get maps list according to the requested city</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="../common/Message.html" title="class in common">Message</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMapsCount(java.util.ArrayList)">getMapsCount</a></span>&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)</code></th>
<td class="colLast">
<div class="block">Get the amount of maps for a requested city</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#publishNewVersion(java.util.ArrayList)">publishNewVersion</a></span>&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)</code></th>
<td class="colLast">
<div class="block">Update details in database of the current map's new version, set current version as active</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../common/Message.html" title="class in common">Message</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#Search(java.util.ArrayList)">Search</a></span>&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)</code></th>
<td class="colLast">
<div class="block">Searching for one or more maps according to search parameters provided by the client</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateMapDetailsAfterApproval(java.util.ArrayList)">updateMapDetailsAfterApproval</a></span>&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)</code></th>
<td class="colLast">
<div class="block">Responsible to update Maps table according to the management response</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code><a href="../common/Message.html" title="class in common">Message</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#updateSitesOfMap(java.util.ArrayList)">updateSitesOfMap</a></span>&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)</code></th>
<td class="colLast">
<div class="block">Delete sites from map - set as to delete in the future when new version is approved or 
 delete sites when new version is approved</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getInstance()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre class="methodSignature">public static&nbsp;<a href="MapDB.html" title="class in server">MapDB</a>&nbsp;getInstance()</pre>
<div class="block">Returns a static instance of MapDB object</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>MapDB</dd>
</dl>
</li>
</ul>
<a id="Search(java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Search</h4>
<pre class="methodSignature">public&nbsp;<a href="../common/Message.html" title="class in common">Message</a>&nbsp;Search&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)</pre>
<div class="block">Searching for one or more maps according to search parameters provided by the client</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>params</code> - - Contain <a href="../common/Action.html" title="enum in common"><code>Action</code></a> type and the search parameters: 
 City name/Site name/Site or City description</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../common/Message.html" title="class in common"><code>Message</code></a> - Contain <code>ArrayList</code> of maps if found in database, else failure message</dd>
</dl>
</li>
</ul>
<a id="AddNewMap(java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>AddNewMap</h4>
<pre class="methodSignature">public&nbsp;<a href="../common/Message.html" title="class in common">Message</a>&nbsp;AddNewMap&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)</pre>
<div class="block">Add new map to database</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>params</code> - - Contain new map's details</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../common/Message.html" title="class in common"><code>Message</code></a> - Indicating success/failure with corresponding message</dd>
</dl>
</li>
</ul>
<a id="editMapDetails(java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>editMapDetails</h4>
<pre class="methodSignature">public&nbsp;<a href="../common/Message.html" title="class in common">Message</a>&nbsp;editMapDetails&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)</pre>
<div class="block">Edit map details in database</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>params</code> - - Contains map's details to update (map name, city name, description, url)</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../common/Message.html" title="class in common"><code>Message</code></a> - Indicating success/failure with corresponding message</dd>
</dl>
</li>
</ul>
<a id="AddSiteToMap(java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>AddSiteToMap</h4>
<pre class="methodSignature">public&nbsp;<a href="../common/Message.html" title="class in common">Message</a>&nbsp;AddSiteToMap&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)</pre>
<div class="block">Add a new site to the requested map</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>params</code> - - Contains requested map entity that we want to connect the site and new site's details 
 OR requested map entity, and site name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../common/Message.html" title="class in common"><code>Message</code></a> - Indicating success/failure with corresponding message</dd>
</dl>
</li>
</ul>
<a id="getMap(java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMap</h4>
<pre class="methodSignature">public&nbsp;<a href="../common/Message.html" title="class in common">Message</a>&nbsp;getMap&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)</pre>
<div class="block">Get instance of map according to the user's permission</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>params</code> - - Contains user's permission, map id and the user name of the current user</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../common/Message.html" title="class in common"><code>Message</code></a> - Indicating success/failure with corresponding message</dd>
</dl>
</li>
</ul>
<a id="getMapsByCity(java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMapsByCity</h4>
<pre class="methodSignature">public&nbsp;<a href="../common/Message.html" title="class in common">Message</a>&nbsp;getMapsByCity&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)</pre>
<div class="block">Get maps list according to the requested city</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>params</code> - - Contain user's permission and requested city name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../common/Message.html" title="class in common"><code>Message</code></a> - Contain <code>ArrayList</code> of type <a href="../entity/Map.html" title="class in entity"><code>Map</code></a> if retrieval succeeded, 
 else failure message</dd>
</dl>
</li>
</ul>
<a id="getMapsCount(java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMapsCount</h4>
<pre class="methodSignature">public&nbsp;<a href="../common/Message.html" title="class in common">Message</a>&nbsp;getMapsCount&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)</pre>
<div class="block">Get the amount of maps for a requested city</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>params</code> - - Contains city name</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><a href="../common/Message.html" title="class in common"><code>Message</code></a> - Contains <code>ArrayList</code> of amount of <a href="../entity/Map.html" title="class in entity"><code>Map</code></a>s to a requested city,
 else failure message</dd>
</dl>
</li>
</ul>
<a id="publishNewVersion(java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>publishNewVersion</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;publishNewVersion&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)
                       throws java.lang.Exception</pre>
<div class="block">Update details in database of the current map's new version, set current version as active</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>params</code> - - response - approve/decline of publishing new version, map id</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - - an exception has occurred</dd>
</dl>
</li>
</ul>
<a id="updateSitesOfMap(java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateSitesOfMap</h4>
<pre class="methodSignature">public&nbsp;<a href="../common/Message.html" title="class in common">Message</a>&nbsp;updateSitesOfMap&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)
                         throws java.lang.Exception</pre>
<div class="block">Delete sites from map - set as to delete in the future when new version is approved or 
 delete sites when new version is approved</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>params</code> - - contains map entity that we want to remove the site from, and site name in case
 manager decides to remove the site from the map, or manager's response to publishing city's maps collection 
 and map id of current city's map</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>message that indicates success/ failure</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - - throws an exception</dd>
</dl>
</li>
</ul>
<a id="updateMapDetailsAfterApproval(java.util.ArrayList)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>updateMapDetailsAfterApproval</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;updateMapDetailsAfterApproval&#8203;(java.util.ArrayList&lt;java.lang.Object&gt;&nbsp;params)
                                   throws java.lang.Exception</pre>
<div class="block">Responsible to update Maps table according to the management response</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>params</code> - - Contains management response - approve/decline and city name</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.Exception</code> - - an exception was thrown</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/MapDB.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../index-files/index-1.html">Index</a></li>
<li><a href="../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
</footer>
</body>
</html>
